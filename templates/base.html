{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Trinetra{% endblock %}</title>

    <!-- Tailwind CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        trinetra: {
                            bg: '#07060a',
                            card: '#1c1917',
                            accent: '#f59e0b',
                            lotus: '#c084fc',
                            cyan: '#22d3ee'
                        }
                    },
                    fontFamily: {
                        orbitron: ['Orbitron', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                    }
                }
            }
        }
    </script>

    <!-- Trinetra FX layer -->
    <link rel="stylesheet" href="{% static 'css/trinetra-fx.css' %}" />
</head>

<body class="min-h-screen bg-trinetra-bg text-stone-100 overflow-x-hidden">

    <!-- ═══ Ambient background layers (z-index 0) ═══ -->
    <div id="tri-bg-grid"></div>
    <div id="tri-bg-radial"></div>
    <div id="tri-scanlines"></div>
    <div class="tri-orb tri-orb--amber"></div>
    <div class="tri-orb tri-orb--purple"></div>
    <div class="tri-orb tri-orb--cyan"></div>

    <!-- ═══ Canvas cursor trail (z-index 9998) ═══ -->
    <canvas id="tri-cursor-canvas"></canvas>

    <!-- ═══ Header (z-index 50) ═══ -->
    <header class="tri-header-glow sticky top-0 z-50 border-b border-amber-200/15 bg-stone-950/80 shadow-[0_4px_40px_rgba(245,158,11,0.08)] backdrop-blur-xl">
        <div class="mx-auto max-w-7xl px-6 py-4 md:px-8">
            <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">

                <!-- Logo + title -->
                <div class="flex items-center gap-4 md:gap-5">
                    <div class="tri-breathe rounded-xl border border-amber-300/30 bg-gradient-to-br from-amber-400/10 via-purple-400/8 to-cyan-400/10 p-2 shadow-[0_0_28px_rgba(245,158,11,0.18)]">
                        <img src="{% static 'img/trinetra-eye.svg' %}" alt="Trinetra eye logo" class="h-14 w-28 rounded-lg bg-stone-950/60 p-1" />
                    </div>
                    <div>
                        <h1 class="tri-orbitron bg-gradient-to-r from-amber-300 via-purple-300 to-cyan-300 bg-clip-text text-2xl font-black tracking-wider text-transparent md:text-3xl">
                            त्रिनेत्र &nbsp;|&nbsp; TRINETRA
                        </h1>
                        <p class="mt-0.5 text-xs tracking-widest text-amber-100/60 uppercase">Third Eye Security Console</p>
                    </div>
                </div>

                <!-- Nav pills -->
                <nav class="flex gap-3 text-xs">
                    <a href="{% url 'scanner:scan' %}"
                       class="tri-pill rounded-full border border-amber-300/35 bg-amber-400/8 px-5 py-2.5 font-semibold text-amber-200 transition hover:-translate-y-0.5 hover:bg-amber-400/15 hover:shadow-[0_0_18px_rgba(245,158,11,0.25)]">
                        ⚡ Scan
                    </a>
                    <a href="{% url 'scanner:history' %}"
                       class="tri-pill rounded-full border border-purple-300/35 bg-purple-400/8 px-5 py-2.5 font-semibold text-purple-200 transition hover:-translate-y-0.5 hover:bg-purple-400/15 hover:shadow-[0_0_18px_rgba(192,132,252,0.25)]">
                        ◈ History
                    </a>
                    <a href="{% url 'scanner:scan' %}#about-trinetra"
                       class="tri-pill rounded-full border border-cyan-300/35 bg-cyan-400/8 px-5 py-2.5 font-semibold text-cyan-200 transition hover:-translate-y-0.5 hover:bg-cyan-400/15 hover:shadow-[0_0_18px_rgba(34,211,238,0.25)]">
                        ✦ About
                    </a>
                </nav>
            </div>
        </div>
    </header>

    <!-- ═══ Main content (z-index 1) ═══ -->
    <main class="relative z-[1] mx-auto max-w-7xl px-6 py-10 md:px-8">
        {% block content %}{% endblock %}
    </main>

    <!-- ═══ Footer with Sanskrit shloka ═══ -->
    <footer class="relative z-[1] border-t border-amber-200/10 bg-stone-950/60 backdrop-blur-md">
        <div class="mx-auto max-w-7xl px-6 py-6 md:px-8">
            <div class="tri-shloka">
                <p class="shloka-sanskrit">
                    ॐ त्र्यम्बकं यजामहे सुगन्धिं पुष्टिवर्धनम् ।<br/>
                    उर्वारुकमिव बन्धनान्मृत्योर्मुक्षीय मामृतात् ॥
                </p>
                <p class="shloka-translation">
                    "We worship the three-eyed One (Lord Shiva) who is fragrant and nourishes all.<br/>
                    May He liberate us from the bondage of death, as a cucumber is freed from its vine."
                    &nbsp;— Rig Veda (7.59.12)
                </p>
            </div>
            <p class="mt-4 text-center text-xs text-stone-500 tracking-wide">
                TRINETRA &bull; Third Eye Security Console &bull; Built with Python &amp; Django
            </p>
        </div>
    </footer>

    <!-- Cursor trail script -->
    <script src="{% static 'js/cursor-trail.js' %}"></script>
</body>
</html>
